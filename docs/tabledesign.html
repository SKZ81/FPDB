<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Free Poker DB Tabledesign</TITLE>
</HEAD>
<BODY LANG="en-GB">
<P>See commit comments for version info, see status.txt for status.</P>
<P>Direct suggestions, praise and animal names to steffen@sycamoretest.info or check readme-overview.txt for more contacts</P>
<P>I decided to be generous on the sizes of the types - if computing experience shows one thing then its that it will come back to bite you in the ass if you save 2 bits in the wrong place. If performance and/or db size are too bad we can still shrink some fields.</P>
<p>Relationships are noted in the comment (need to double check that all are listed)</P>
<p>If you want more comments or if anything is confusing or bad let me know.</P>
<p>All money/cash amounts are stored in cents/pennies/whatever (e.g. $4.27 would be stored a 427). Chips are stored as-is (e.g. 3675 chips would be stored as 3675).</P>
<p>Notes on use/editing:</P>
<p>Any change to this must be carried to to the table creation code in fpdb_db.py or at least an entry to known bugs is to be made.</P>
<P>If the code (in particular the importer) and this document disagree then this document is to be considered authorative.</P>
<p><b>License</b><br>
Trademarks of third parties have been used under Fair Use or similar laws.<br>
Copyright 2008 Steffen Jobbagy-Felso<br>
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.2 as published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and with no Back-Cover Texts. A copy of the license can be found in fdl-1.2.txt<br>
The program itself is licensed under AGPLv3, see agpl-3.0.txt</p>
<p>See readme.txt for copying</P>
<p><B>Table Settings</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>version</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>the git version of the database (ie. table design changes and major bugfixes require a bump)</P></TD>
	</TR>
</TABLE>
<p><B>Table Players</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>name</P></TD>
		<TD><P>varchar(32)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>siteId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>references Sites.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>comment</P></TD>
		<TD><P>text</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>commentTs</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table Autorates</B></P>
<p>An autorating is a computer-&quot;recognised&quot; label/category for a player. Examples could include &quot;Calling Station&quot; if a player has &lt;20% each for aggression and folding postflop. Or &quot;Tight-Aggressive/Aggressive&quot; for players with &lt;20% VPIP, &gt;10% PFR and &gt;40% postflop aggression.</P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>playerId</P></TD>
		<TD><P>int</P></TD>
		<TD><P>references Players.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>gametypeId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>references Gametypes.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>description</P></TD>
		<TD><P>varchar(50)</P></TD>
		<TD><P>autorating description</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>shortDesc</P></TD>
		<TD><P>char(8)</P></TD>
		<TD><P>short description e.g. for display in HUD</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>ratingTime</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P>timestamp of rating</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>handCount</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands rating is based on</P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table Gametypes</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>siteId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>references sites.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>type</P></TD>
		<TD><P>char(4)</P></TD>
		<TD><p>valid entries:<br>
			ring - ringgames aka cash games<br>
			tour - tournament incl SnG</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>base</P></TD>
		<TD><P>char(4)</P></TD>
		<TD><p>The underlying structure. valid entries:<br>
			hold - Holdem and Omaha<br>
			stud - Stud and Razz<br>
			draw - (incl Badugi)</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>category</P></TD>
		<TD><P>varchar(9)</P></TD>
		<TD><p>valid entries:<br>
			holdem=Texas Hold'em<br>
			omahahi=Omaha High only<br>
			omahahilo=Omaha 8 or better<br>
			razz=Razz<br>
			studhi=7 Card Stud High only<br>
			studhilo=7 Card Stud 8 or better<br>
			fivedraw=Five Card Draw<br>
			27sgldraw=2-7 Single Draw<br>
			27tridraw=2-7 Tripple Draw<br>
			badugi=Badugi</p></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>limitType</P></TD>
		<TD><P>char(2)</P></TD>
		<TD><p>nl=No Limit<br>
			cn=Cap No Limit<br>
			pl=Pot Limit<br>
			cp=Cap Pot Limit<br>
			fl=Fixed Limit</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>hiLo</P></TD>
		<TD><P>char(1)</P></TD>
		<TD><p>Whether the game is hi, lo or both. Valid Entries:<br>
			h - High only<br>
			l - Low only<br>
			s - Hi/Lo Split</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>smallBlind</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>bigBlind</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>smallBet</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>bigBet</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table Sites</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>name</P></TD>
		<TD><P>varchar(32)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>currency</P></TD>
		<TD><P>char(3)</P></TD>
		<TD><P>currency code, e.g. USD, GBP, EUR</P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table Hands</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field Name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>tableName</P></TD>
		<TD><P>varchar(20)</P></TD>
		<TD><P>The site's name for the current table</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>siteHandNo</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P>the site's hand number</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>gametypeId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>references gametypes.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>handStart</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P>start date&amp;time of the hand</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>importTime</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P>date&amp;time of import of this hand</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>seats</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>number of used seats (ie. that got dealt cards)</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>maxSeats</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>number of available seats</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>comment</P></TD>
		<TD><P>text</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>commentTs</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table BoardCards</B></P>
<p>cardX -&gt; can be 1 through 5</P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field Name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>handId</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P>the site's hand number</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>cardXValue</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>2-10=2-10, J=11, Q=12, K=13, A=14 (even in razz), unknown/no card=x, kept=k (draw only)</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>cardXSuit</P></TD>
		<TD><P>char(1)</P></TD>
		<TD><P>h=hearts, s=spades, d=diamonds, c=clubs, unknown/no card=x</P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table HandsPlayers</B></P>
<p>cardX: can be 1 through 20, one for each card. In holdem only 1-2 of these are used, in omaha 1-4, in stud/razz 1-7, in single draw games 1-10 is used and in badugi 1-16 (4*4) is used.</P>
<p>For the draw games: the first 5 (badugi: 4) cards are the initial cards, the next 5 (badugi: 4) are after the first draw. If a player keeps some cards then those cards' spaces are filled with "k", short for "kept". E.g. if a player gets 2-6 spades for his first five cards and decides to throw away the 4 and then gets a 7 of spades then the first 10 fields of cardXValue would be as follows: 2, 3, 4, 5, 6, 7, k, k, k, k</p>
<p>I did not separate this into an extra table because I felt the lost space is not sufficiently large. Also the benefit for searching is far less relevant.</P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field Name</P></TD>
		<TD><P>Type</P></TD><TD>
		<P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>handId</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P>references Hands.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>playerId</P></TD>
		<TD><P>int</P></TD>
		<TD><P>references Players.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>startCash</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD></TR>
	<TR VALIGN=TOP>
		<TD><P>position</P></TD>
		<TD><P>char(1)</P></TD>
		<TD><p>BB=B, SB=S, Button=0, Cutoff=1, etc.<br>
			This is used in holdem/omaha only.</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>seatNo</P></TD>
		<TD><P>smallint</P></TD>
		<TD><p>The seat in which the person was sitting - necessary for HUD</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>ante</P></TD>
		<TD><P>int</P></TD>
		<TD><P>note: for cash this could be boolean, but in tourneys you may enter a hand with less than the full ante</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>cardXValue</P></TD>
		<TD><P>smallint</P></TD>
		<TD><p>2-10=2-10, J=11, Q=12, K=13, A=14 (even in razz), unknown/no card=x<br>
			see note above table</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>cardXSuit</P></TD>
		<TD><P>char(1)</P></TD>
		<TD><P>h=hearts, s=spades, d=diamonds, c=clubs, unknown/no card=x</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>winnings</P></TD>
		<TD><P>int</P></TD>
		<TD><P>winnings in this hand (bets, antes, etc. are NOT deducted, but rake already is)</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>rake</P></TD>
		<TD><P>int</P></TD>
		<TD><P>rake for this player for this hand</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>comment</P></TD>
		<TD><P>text</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>commentTs</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>tourneysPlayersId</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P>references TourneysPlayers.id</P></TD>
	</TR>
</TABLE>
<p><BR></P>
<P><B>Table HudCache</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P><b>Field Name</b></P></TD>
		<TD><P><b>Type</b></P></TD>
		<TD><P><b>Comment</b></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><br></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>gametypeId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>references gametypes.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>playerId</P></TD>
		<TD><P>int</P></TD>
		<TD><P>references players.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>activeSeats</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>range 2-10</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>position</P></TD>
		<TD><P>char(1)</P></TD>
		<TD><P>Position for which this row applies. In this table this can be B(BB), S(SB), D(Dealer/Button), C(Cutoff), M(Middle - the 3 before cutoff) or E (Early - the 3 before Middle)</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>tourneyTypeId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>References TourneyTypes.id</P></TD>
	</TR>

	<TR VALIGN=TOP>
		<TD><P>HDs</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands this player played in this gametype with this number of seats</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street0VPI</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player paid to see flop<br>
			Please note that this already includes street0Aggr!<br>
			To calculate limp just deduct street0Aggr from this number</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street0Aggr</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player raised before flop</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street0_3B4BChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player had chance to 3B or 4B</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street0_3B4BDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player 3bet/4bet before flop</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street1Seen</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player saw flop/street4</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street2Seen</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player saw turn/street5</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street3Seen</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player saw river/street6</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street4Seen</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player saw street7</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>sawShowdown</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player saw showdown</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street1Aggr</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player raised flop/street4</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street2Aggr</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player raised turn/street5</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street3Aggr</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player raised river/street6</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street4Aggr</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where player raised street7</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>otherRaisedStreet1</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised flop/street4</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>otherRaisedStreet2</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised turn/street5</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>otherRaisedStreet3</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised river/street6</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>otherRaisedStreet4</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised street7</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToOtherRaisedStreet1</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised flop/street4 and the player folded</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToOtherRaisedStreet2</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised Turn/street5 and the player folded</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToOtherRaisedStreet3</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised River/street6 and the player folded</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToOtherRaisedStreet4</P></TD>
		<TD><P>int</P></TD>
		<TD><P>number of hands where someone else raised street7 and the player folded</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>wonWhenSeenStreet1</P></TD>
		<TD><P>float</P></TD>
		<TD><P>How many hands the player won after seeing the flop/street4 - this can be a "partial win" if the pot is split.<br>
			To be completely clear, this stores a hand count, NOT a money amount.</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>wonAtSD</P></TD>
		<TD><P>float</P></TD>
		<TD><P>As wonWhenSeenStreet1, but for showdown.</P></TD>
	</TR>

	<TR VALIGN=TOP>
		<TD><P>stealAttemptChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player was in CO, BTN or SB and nobody has called yet</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>stealAttempted</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player took a chance per the above condition</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldBbToStealChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Somebody tried to steal BB from player</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldedBbToSteal</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player folded BB to steal attempt</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldSbToStealChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Somebody tried to steal SB from player</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldedSbToSteal</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player folded SB to steal attempt</P></TD>
	</TR>

	<TR VALIGN=TOP>
		<TD><P>street1CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to make continuation bet on flop/street4</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street1CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to make continuation bet on flop/street4</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street2CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to make continuation bet on turn/street5</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street2CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to make continuation bet on turn/street5</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street3CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to make continuation bet on river/street6</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street3CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to make continuation bet on river/street6</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street4CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to make continuation bet on street7</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street4CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to make continuation bet on street7</P></TD>
	</TR>
	
	<TR VALIGN=TOP>
		<TD><P>foldToStreet1CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet1CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet2CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet2CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet3CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet3CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet4CBChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player had chance to fold to continuation bet on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>foldToStreet4CBDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Player used chance to fold to continuation bet on this street</P></TD>
	</TR>
	
	<TR VALIGN=TOP>
		<TD><P>totalProfit</P></TD>
		<TD><P>int</P></TD>
		<TD><P>how much money in cents the player made</P></TD>
	</TR>
	
	<TR VALIGN=TOP>
		<TD><P>street1CheckCallRaiseChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player had the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street1CheckCallRaiseDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player used the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street2CheckCallRaiseChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player had the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street2CheckCallRaiseDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player used the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street3CheckCallRaiseChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player had the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street3CheckCallRaiseDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player used the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street4CheckCallRaiseChance</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player had the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street4CheckCallRaiseDone</P></TD>
		<TD><P>int</P></TD>
		<TD><P>How often player used the chance to do a check-raise or a call-raise on this street</P></TD>
	</TR>
	
</TABLE>
<P></P>
<P><B>Table HandsActions</B></P>
<p>Did separate this into an extra table because it makes SELECTing across different streets so much easier. Also the space saving will be very large.</P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field Name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>handPlayerId</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P>references HandsPlayers.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>street</P></TD>
		<TD><P>smallint</P></TD>
		<TD><p>street number, 0-3 (preflop, flop, turn, river) for holdem/omaha or 0-4 for razz/stud</P><P>-1 for seen showdown</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>actionNo</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>action number, this is counted from zero for each street but across all players (e.g. in a heads up where the SB calls and the BB raises and the SB calls again would have numbers 0 and 1 for blinds, 2 and 4 for call and 3 for bet)<br>
			Note that the blinds are counted as an action, so if the SB stays in the hand it'll always be action #0</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>action</P></TD>
		<TD><P>char(5)</P></TD>
		<TD><P>Bet stands for bring in, complete, bet, double bet, raise and double raise, since they all - technically - do the same thing. Unbet is used for when an uncalled bet is returned, this will have a negative value for amount.</P>
			<P>Other valid values: blind call check fold</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>allIn</P></TD>
		<TD><P>boolean</P></TD>
		<TD><P>Whether the player went all-in on this action</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>amount</P></TD>
		<TD><P>int</P></TD>
		<TD><P>amount put into the middle for this action</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>comment</P></TD>
		<TD><P>text</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>commentTs</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Tournament Tables</B></P>
<p><BR></P>
<p><B>Table Tourneys</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>tourneyTypeId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>References TourneyTypes.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>siteTourneyNo</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>entries</P></TD>
		<TD><P>int</P></TD>
		<TD><P>-1 if unknown</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>prizepool</P></TD>
		<TD><P>int</P></TD>
		<TD><p>Need this as separate field to support rebuy/addon</P><P>-1 if unknown</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>startTime</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P>Empty if unknown</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>comment</P></TD>
		<TD><P>text</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>commentTs</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table TourneyTypes</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>siteId</P></TD>
		<TD><P>smallint</P></TD>
		<TD><P>References Sites.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>buyin</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Buy-in in cents. Without rebuy/add-on</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>fee</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>knockout</P></TD>
		<TD><P>int</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>rebuyOrAddon</P></TD>
		<TD><P>boolean</P></TD>
		<TD><P>Whether rebuys or add-ons are possible</P></TD>
	</TR>
</TABLE>
<p><BR></P>
<p><B>Table TourneysPlayers</B></P>
<TABLE BORDER=1 CELLPADDING=2 CELLSPACING=0>
	<TR VALIGN=TOP>
		<TD><P>Field Name</P></TD>
		<TD><P>Type</P></TD>
		<TD><P>Comment</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>id</P></TD>
		<TD><P>bigint</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>tourneyId</P></TD>
		<TD><P>int</P></TD>
		<TD><P>References Tourneys.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>playerId</P></TD>
		<TD><P>int</P></TD>
		<TD><P>References Players.id</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>payinAmount</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Buyin, fee, rebuys and add-ons</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>rank</P></TD>
		<TD><P>int</P></TD>
		<TD><P>Finishing rank</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>winnings</P></TD>
		<TD><P>signed int</P></TD>
		<TD><P>Winnings (not profit) by this player, -1 if unknown.</P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>comment</P></TD>
		<TD><P>text</P></TD>
		<TD><P><BR></P></TD>
	</TR>
	<TR VALIGN=TOP>
		<TD><P>commentTs</P></TD>
		<TD><P>datetime (in UTC)</P></TD>
		<TD><P><BR></P></TD>
	</TR>
</TABLE>
</BODY>
</HTML>
